Convert project files to TypeScript, add tsconfig and types, fix compilation